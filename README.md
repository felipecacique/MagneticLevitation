# Magnetic Levitation Using Arduino: An In-Depth Technical Review

## Introduction
Magnetic levitation technology enables objects to float by balancing magnetic forces and gravitational pull. The project focuses on constructing a magnetic levitation system using an Arduino, emphasizing control through sensors and precise electromagnetic fields. This system successfully levitated a magnet vertically using a solenoid coil, Hall-effect sensors, and a PID (Proportional-Integral-Derivative) controller.

## System Overview
The primary objective was to develop a closed-loop control system that levitates a magnet by manipulating the electromagnetic force generated by a solenoid coil. The system consists of:
- **Solenoid Coil**: Generates the magnetic field to attract the magnet.
- **Hall-Effect Sensors**: Measure the magnetic field strength to provide feedback on the magnet’s position.
- **Arduino Microcontroller**: Processes the sensor data and adjusts the coil's current accordingly.
- **PID Control Algorithm**: Ensures stable levitation by dynamically adjusting the control signal.

## General System Analysis
The proposed magnetic levitation system is composed of an electromagnet placed above the levitating object. The electromagnet generates a magnetic field that is controlled by the current flowing from the Arduino. The magnetic field produces a vertical magnetic force on the object that acts in the opposite direction to its weight. The goal is to balance these forces so that the object remains suspended in the air.

A Hall-effect sensor detects the position of the levitating object by measuring the magnetic field generated by both the magnet and the coil. The sensor outputs an electrical signal corresponding to the object’s position. This signal is fed into the controller, which then adjusts the magnetic field strength in real-time to ensure the object remains stable at the desired reference position. The feedback control loop continuously adjusts the current to maintain the object's position.

A control system block diagram is used to represent how the components interact with each other:
- The electromagnet generates the magnetic field.
- The Hall-effect sensor detects the position of the object by measuring the magnetic field.
- The sensor's signal is sent to the Arduino (controller).
- The Arduino adjusts the current in the coil based on the position feedback, controlling the magnetic field to maintain stable levitation.

The system dynamically balances the forces acting on the object, which requires precise real-time control. The PID controller plays a crucial role in minimizing the error between the desired and actual positions of the levitating object. The control loop ensures that any disturbance in the object’s position is corrected quickly by adjusting the magnetic field generated by the electromagnet.

## Physics and Electromagnetism
The foundation of this project relies on **electromagnetic theory**, particularly the interaction between a solenoid’s magnetic field and a ferromagnetic object (the magnet).

# 4.1 Magnetic Field of a Solenoid

The solenoid generates a magnetic field when current flows through its windings. The magnetic field (B) inside a solenoid is given by:

$$ B = \mu_0 \cdot \frac{N \cdot I}{L} $$

Where:
- **B** is the magnetic flux density (measured in Tesla),
- **µ₀** is the permeability of free space ($$4\pi \times 10^{-7} \, T \cdot m/A$$),
- **N** is the number of turns of the coil,
- **I** is the current through the coil (in amperes),
- **L** is the length of the solenoid.

The force exerted on the magnet is directly related to this magnetic field and opposes gravity. This balancing act ensures levitation:

$$ F_m = B \cdot \mu_m $$

Where **µₘ** is the magnetic moment of the object.